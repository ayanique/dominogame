{"version":3,"sources":["./src/app/screens/game/game.screen.html","./src/app/screens/game/game-routing.module.ts","./src/app/screens/game/game.module.ts","./src/app/screens/game/game.screen.scss","./src/app/screens/game/game.screen.ts"],"names":[],"mappings":"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","file":"screens-game-game-module-es2015.js","sourcesContent":["export default \"<div id='game-screen'>\\n  <div class='close' (click)=\\\"exit()\\\"><img src='assets/close.png' alt='close' /></div>\\n  <jn-player [player]='game.players[(viewPoint + 2) % 4]' [ngClass]=\\\"{active:game.getActivePlayer() == game.players[(viewPoint + 2) % 4]}\\\" position=\\\"top\\\"></jn-player>\\n  <jn-player [player]='game.players[(viewPoint+3) % 4]' [ngClass]=\\\"{active:game.getActivePlayer() == game.players[(viewPoint + 3) % 4]}\\\" position=\\\"left\\\"></jn-player>\\n  <jn-board [board]=\\\"game.board\\\"></jn-board>\\n  <jn-player [player]='game.players[(viewPoint+1) % 4]' [ngClass]=\\\"{active:game.getActivePlayer() == game.players[(viewPoint + 1) % 4]}\\\" position=\\\"right\\\"></jn-player>\\n  <div *ngIf=\\\"myTurn()\\\" class='playClock'>{{game.playClock}}</div>\\n  <div *ngIf=\\\"!game.isWatching()\\\" class='status-dial'>\\n    <div *ngIf=\\\"!myTurn()\\\" class='status'>\\n      <span>Waiting for {{game.getActivePlayer()?.name}}</span>\\n    </div>\\n    <div *ngIf=\\\"myTurn() && game.canEndTurn()\\\" class='status active'>\\n      <img src='assets/knock.png' />\\n    </div>\\n    <div *ngIf=\\\"myTurn() && !game.canEndTurn()\\\" class='status active'>\\n      <div *ngIf=\\\"!activeDomino\\\" class='instruction'>Select Domino</div>\\n      <div *ngIf=\\\"activeDomino && !canPlayRight() && !canPlayLeft()\\\" class='play noplay'><img src='assets/no-play.png' /></div>\\n      <div *ngIf=\\\"canPlayRight()\\\" class='play' (click)=\\\"playRight()\\\"><img src='assets/play-up.png' /></div>\\n      <div class='border' *ngIf=\\\"game.board.center && canPlayLeft() && canPlayRight()\\\"></div>\\n      <div *ngIf=\\\"canPlayLeft() && game.board.center\\\" class='play' (click)=\\\"playLeft()\\\"><img src='assets/play-down.png' /></div>\\n    </div>\\n  </div>\\n  <div class='active-player'>\\n    <div class='hand'>\\n      <jn-domino *ngFor=\\\"let domino of game.players[viewPoint]?.hand\\\" [domino]=\\\"domino\\\" (click)=\\\"selectDomino(domino)\\\" [ngClass]=\\\"{'active':domino == activeDomino}\\\"></jn-domino>\\n    </div>\\n    <jn-player [player]='game.players[viewPoint]' [ngClass]=\\\"{active:game.getActivePlayer() == game.players[viewPoint]}\\\" position=\\\"bottom\\\"></jn-player>\\n  </div>\\n</div>\\n<jn-modal #joinModal [hidden]=\\\"game.seatsAvailable() == 0\\\">\\n  <h1>Enter Your Name</h1>\\n  <input [(ngModel)]=\\\"player.name\\\" type='text' />\\n  <div class='button-panel'>\\n    <jn-button (click)=\\\"join()\\\" label=\\\"Join\\\"></jn-button>\\n  </div>\\n</jn-modal>\\n<jn-modal #statusModal>\\n  <h1 *ngIf=\\\"game.status == 'Pending' && !game.isMultiplayer()\\\">Game Ready</h1>\\n  <h1 *ngIf=\\\"game.status == 'Pending' && game.isMultiplayer()\\\">Waiting for Players</h1>\\n  <h1 *ngIf=\\\"game.status == 'Intermission' || game.status == 'Completed'\\\">{{game.isShut()?\\\"Game Shut - \\\":\\\"\\\"}}{{game.getActivePlayer().name}} Wins!</h1>\\n  <h1 *ngIf=\\\"game.status == 'Drawn'\\\">Game Push</h1>\\n  <div *ngIf=\\\"game.status == 'Pending' && game.isMultiplayer()\\\" class=\\\"game-code\\\">Game Code: {{game.code}}</div>\\n  <div *ngIf=\\\"(game.status == 'Drawn' || game.status == 'Intermission') && game.isMultiplayer()\\\">Game will resume in {{timer}}</div>\\n  <div class='button-panel'>\\n    <jn-button *ngIf=\\\"game.status == 'Pending' && (!game.isMultiplayer() || (viewPoint == 0 && game.seatsAvailable() < 3))\\\" (click)=\\\"game.start()\\\" label=\\\"Start Now\\\"></jn-button>\\n    <jn-button *ngIf=\\\"(game.status == 'Drawn' || game.status == 'Intermission') && !game.isMultiplayer()\\\" (click)=\\\"game.start()\\\" label=\\\"Continue\\\"></jn-button>\\n    <jn-button *ngIf=\\\"game.status == 'Completed' || game.status == 'Victory'\\\" (click)=\\\"mainMenu()\\\" label=\\\"Main Menu\\\"></jn-button>\\n  </div>\\n</jn-modal>\\n<jn-summary [game]=\\\"game\\\"></jn-summary>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { GameScreen } from './game.screen';\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: GameScreen\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class GameScreenRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { GameScreenRoutingModule } from './game-routing.module';\nimport { GameScreen } from './game.screen';\n\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  imports: [\n    GameScreenRoutingModule,\n    ComponentsModule,\n    CommonModule,\n    FormsModule\n  ],\n  declarations: [\n    GameScreen,\n  ],\n  providers:[\n  ]\n})\nexport class GameScreenModule{}\n","export default \"#game-screen {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n#game-screen .close {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  cursor: pointer;\\n}\\n#game-screen jn-player {\\n  position: absolute;\\n  opacity: 0.7;\\n  z-index: 100;\\n}\\n#game-screen jn-player.top {\\n  top: 2px;\\n  margin-left: -25px;\\n}\\n#game-screen jn-player.left {\\n  top: calc(50vh - 37.5px);\\n  left: -82.5px;\\n  margin-top: 30px;\\n}\\n#game-screen jn-player.right {\\n  top: calc(50vh - 37.5px);\\n  right: -82.5px;\\n  margin-top: -30px;\\n}\\n#game-screen .playClock {\\n  width: 105px;\\n  text-align: center;\\n  font-weight: bold;\\n  font-size: 1.3em;\\n  position: absolute;\\n  bottom: 50px;\\n  left: 70px;\\n}\\n#game-screen .active-player {\\n  position: absolute;\\n  bottom: 5px;\\n  right: 10px;\\n}\\n#game-screen .active-player jn-player {\\n  position: static;\\n}\\n#game-screen .active-player .hand {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 50px;\\n  margin-bottom: 5px;\\n}\\n#game-screen .active-player .hand jn-domino {\\n  transform: rotate(90deg);\\n  margin: 0px 10px;\\n}\\n#game-screen .active-player .hand jn-domino.active {\\n  margin-top: -50px;\\n}\\n#game-screen jn-player.active {\\n  opacity: 1;\\n}\\n#game-screen .status-dial {\\n  position: absolute;\\n  bottom: 5px;\\n  left: 5px;\\n  height: 105px;\\n  width: 105px;\\n  border-radius: 52.5px;\\n  border: solid 1px #161616;\\n  background-color: #949494;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n#game-screen .status-dial .status {\\n  cursor: pointer;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  height: 90px;\\n  width: 90px;\\n  border-radius: 45px;\\n  background-color: #161616;\\n  opacity: 0.8;\\n}\\n#game-screen .status-dial .status span {\\n  text-align: center;\\n  width: 90px;\\n  color: #D5DAD7;\\n  font-style: italic;\\n  margin-top: 5px;\\n  color: #FFFFFF;\\n}\\n#game-screen .status-dial .status .border {\\n  background-color: #949494;\\n  height: 2px;\\n  width: 100%;\\n}\\n#game-screen .status-dial .status .play {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n  width: calc(50% - 1px);\\n}\\n#game-screen .status-dial .status .play img {\\n  height: 30px;\\n  width: 30px;\\n}\\n#game-screen .status-dial .status .noplay img {\\n  height: 40px;\\n  width: 40px;\\n}\\n#game-screen .status-dial .status .instruction {\\n  text-align: center;\\n}\\n#game-screen .status-dial .status div.active {\\n  opacity: 1;\\n}\\n#game-screen .status-dial .status.active {\\n  color: #FFFFFF;\\n  opacity: 1;\\n}\\n.game-code {\\n  margin-bottom: 15px;\\n}\\n.button-panel {\\n  display: flex;\\n}\\n.button-panel jn-button {\\n  margin-right: 10px;\\n}\\ninput {\\n  text-align: center;\\n  padding: 10px;\\n  font-size: 1.25em;\\n  margin: 10px 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbW9yeWFjL1NhbmRib3gvZG9taW5vL3NyYy9hcHAvc2NyZWVucy9nYW1lL2dhbWUuc2NyZWVuLnNjc3MiLCJzcmMvYXBwL3NjcmVlbnMvZ2FtZS9nYW1lLnNjcmVlbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDQ0Y7QURDRTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FDQ0o7QURFRTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUNBSjtBREdFO0VBQ0UsUUFBQTtFQUNBLGtCQUFBO0FDREo7QURJRTtFQUNFLHdCQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FDRko7QURLRTtFQUNFLHdCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDSEo7QURNRTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0FDSko7QURPRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUNMSjtBRE9JO0VBQ0UsZ0JBQUE7QUNMTjtBRFFJO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNOTjtBRFFNO0VBQ0Usd0JBQUE7RUFDQSxpQkFBQTtBQ05SO0FEU007RUFDRSxpQkFBQTtBQ1BSO0FEWUU7RUFDRSxVQUFBO0FDVko7QURhRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FDWEo7QURhSTtFQUNFLGVBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtBQ1hOO0FEYU07RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQ1hSO0FEY007RUFDRSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FDWlI7QURlTTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0FDYlI7QURlUTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FDYlY7QURrQlE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQ2hCVjtBRG9CTTtFQUNFLGtCQUFBO0FDbEJSO0FEcUJNO0VBQ0UsVUFBQTtBQ25CUjtBRHVCSTtFQUNFLGNBQUE7RUFDQSxVQUFBO0FDckJOO0FEMEJBO0VBQ0UsbUJBQUE7QUN2QkY7QUQwQkE7RUFDRSxhQUFBO0FDdkJGO0FEeUJFO0VBQ0Usa0JBQUE7QUN2Qko7QUQyQkE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FDeEJGIiwiZmlsZSI6InNyYy9hcHAvc2NyZWVucy9nYW1lL2dhbWUuc2NyZWVuLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZ2FtZS1zY3JlZW57XG4gIGRpc3BsYXk6ZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6MTAwJTtcbiAgaGVpZ2h0OjEwMCU7XG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xuXG4gIC5jbG9zZXtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOjEwcHg7XG4gICAgcmlnaHQ6MTBweDtcbiAgICBjdXJzb3I6cG9pbnRlcjtcbiAgfVxuXG4gIGpuLXBsYXllcntcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgb3BhY2l0eTowLjc7XG4gICAgei1pbmRleDoxMDA7XG4gIH1cblxuICBqbi1wbGF5ZXIudG9we1xuICAgIHRvcDoycHg7XG4gICAgbWFyZ2luLWxlZnQ6LTI1cHg7XG4gIH1cblxuICBqbi1wbGF5ZXIubGVmdHtcbiAgICB0b3A6Y2FsYyg1MHZoIC0gMzcuNXB4KTtcbiAgICBsZWZ0Oi04Mi41cHg7XG4gICAgbWFyZ2luLXRvcDozMHB4O1xuICB9XG5cbiAgam4tcGxheWVyLnJpZ2h0e1xuICAgIHRvcDpjYWxjKDUwdmggLSAzNy41cHgpO1xuICAgIHJpZ2h0Oi04Mi41cHg7XG4gICAgbWFyZ2luLXRvcDotMzBweDtcbiAgfVxuXG4gIC5wbGF5Q2xvY2t7XG4gICAgd2lkdGg6MTA1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMS4zZW07XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogNTBweDtcbiAgICBsZWZ0OiA3MHB4O1xuICB9XG5cbiAgLmFjdGl2ZS1wbGF5ZXJ7XG4gICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgYm90dG9tOjVweDtcbiAgICByaWdodDoxMHB4O1xuXG4gICAgam4tcGxheWVye1xuICAgICAgcG9zaXRpb246c3RhdGljO1xuICAgIH1cblxuICAgIC5oYW5ke1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGhlaWdodDo1MHB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTo1cHg7XG5cbiAgICAgIGpuLWRvbWlub3tcbiAgICAgICAgdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7XG4gICAgICAgIG1hcmdpbjowcHggLTEwcHg7XG4gICAgICB9XG5cbiAgICAgIGpuLWRvbWluby5hY3RpdmV7XG4gICAgICAgIG1hcmdpbi10b3A6LTUwcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgam4tcGxheWVyLmFjdGl2ZXtcbiAgICBvcGFjaXR5OjE7XG4gIH1cblxuICAuc3RhdHVzLWRpYWx7XG4gICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgYm90dG9tOjVweDtcbiAgICBsZWZ0OjVweDtcbiAgICBoZWlnaHQ6MTA1cHg7XG4gICAgd2lkdGg6MTA1cHg7XG4gICAgYm9yZGVyLXJhZGl1czo1Mi41cHg7XG4gICAgYm9yZGVyOnNvbGlkIDFweCAjMTYxNjE2O1xuICAgIGJhY2tncm91bmQtY29sb3I6Izk0OTQ5NDtcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgIC5zdGF0dXN7XG4gICAgICBjdXJzb3I6cG9pbnRlcjtcbiAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBoZWlnaHQ6OTBweDtcbiAgICAgIHdpZHRoOjkwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOjQ1cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiMxNjE2MTY7XG4gICAgICBvcGFjaXR5OjAuODtcblxuICAgICAgc3BhbntcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB3aWR0aDo5MHB4O1xuICAgICAgICBjb2xvcjojRDVEQUQ3O1xuICAgICAgICBmb250LXN0eWxlOml0YWxpYztcbiAgICAgICAgbWFyZ2luLXRvcDo1cHg7XG4gICAgICAgIGNvbG9yOiNGRkZGRkY7XG4gICAgICB9XG5cbiAgICAgIC5ib3JkZXJ7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6Izk0OTQ5NDtcbiAgICAgICAgaGVpZ2h0OjJweDtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgIH1cblxuICAgICAgLnBsYXl7XG4gICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGhlaWdodDoxMDAlO1xuICAgICAgICB3aWR0aDpjYWxjKDUwJSAtIDFweCk7XG5cbiAgICAgICAgaW1ne1xuICAgICAgICAgIGhlaWdodDozMHB4O1xuICAgICAgICAgIHdpZHRoOjMwcHg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLm5vcGxheXtcbiAgICAgICAgaW1ne1xuICAgICAgICAgIGhlaWdodDo0MHB4O1xuICAgICAgICAgIHdpZHRoOjQwcHg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmluc3RydWN0aW9ue1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIGRpdi5hY3RpdmV7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuc3RhdHVzLmFjdGl2ZXtcbiAgICAgIGNvbG9yOiNGRkZGRkY7XG4gICAgICBvcGFjaXR5OjE7XG4gICAgfVxuICB9XG59XG5cbi5nYW1lLWNvZGV7XG4gIG1hcmdpbi1ib3R0b206MTVweDtcbn1cblxuLmJ1dHRvbi1wYW5lbHtcbiAgZGlzcGxheTogZmxleDtcblxuICBqbi1idXR0b257XG4gICAgbWFyZ2luLXJpZ2h0OjEwcHg7XG4gIH1cbn1cblxuaW5wdXR7XG4gIHRleHQtYWxpZ246Y2VudGVyO1xuICBwYWRkaW5nOjEwcHg7XG4gIGZvbnQtc2l6ZToxLjI1ZW07XG4gIG1hcmdpbjoxMHB4IDBweDtcbn1cbiIsIiNnYW1lLXNjcmVlbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbiNnYW1lLXNjcmVlbiAuY2xvc2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTBweDtcbiAgcmlnaHQ6IDEwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbiNnYW1lLXNjcmVlbiBqbi1wbGF5ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG9wYWNpdHk6IDAuNztcbiAgei1pbmRleDogMTAwO1xufVxuI2dhbWUtc2NyZWVuIGpuLXBsYXllci50b3Age1xuICB0b3A6IDJweDtcbiAgbWFyZ2luLWxlZnQ6IC0yNXB4O1xufVxuI2dhbWUtc2NyZWVuIGpuLXBsYXllci5sZWZ0IHtcbiAgdG9wOiBjYWxjKDUwdmggLSAzNy41cHgpO1xuICBsZWZ0OiAtODIuNXB4O1xuICBtYXJnaW4tdG9wOiAzMHB4O1xufVxuI2dhbWUtc2NyZWVuIGpuLXBsYXllci5yaWdodCB7XG4gIHRvcDogY2FsYyg1MHZoIC0gMzcuNXB4KTtcbiAgcmlnaHQ6IC04Mi41cHg7XG4gIG1hcmdpbi10b3A6IC0zMHB4O1xufVxuI2dhbWUtc2NyZWVuIC5wbGF5Q2xvY2sge1xuICB3aWR0aDogMTA1cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMS4zZW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiA1MHB4O1xuICBsZWZ0OiA3MHB4O1xufVxuI2dhbWUtc2NyZWVuIC5hY3RpdmUtcGxheWVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDVweDtcbiAgcmlnaHQ6IDEwcHg7XG59XG4jZ2FtZS1zY3JlZW4gLmFjdGl2ZS1wbGF5ZXIgam4tcGxheWVyIHtcbiAgcG9zaXRpb246IHN0YXRpYztcbn1cbiNnYW1lLXNjcmVlbiAuYWN0aXZlLXBsYXllciAuaGFuZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBoZWlnaHQ6IDUwcHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cbiNnYW1lLXNjcmVlbiAuYWN0aXZlLXBsYXllciAuaGFuZCBqbi1kb21pbm8ge1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XG4gIG1hcmdpbjogMHB4IC0xMHB4O1xufVxuI2dhbWUtc2NyZWVuIC5hY3RpdmUtcGxheWVyIC5oYW5kIGpuLWRvbWluby5hY3RpdmUge1xuICBtYXJnaW4tdG9wOiAtNTBweDtcbn1cbiNnYW1lLXNjcmVlbiBqbi1wbGF5ZXIuYWN0aXZlIHtcbiAgb3BhY2l0eTogMTtcbn1cbiNnYW1lLXNjcmVlbiAuc3RhdHVzLWRpYWwge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogNXB4O1xuICBsZWZ0OiA1cHg7XG4gIGhlaWdodDogMTA1cHg7XG4gIHdpZHRoOiAxMDVweDtcbiAgYm9yZGVyLXJhZGl1czogNTIuNXB4O1xuICBib3JkZXI6IHNvbGlkIDFweCAjMTYxNjE2O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTQ5NDk0O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbiNnYW1lLXNjcmVlbiAuc3RhdHVzLWRpYWwgLnN0YXR1cyB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGhlaWdodDogOTBweDtcbiAgd2lkdGg6IDkwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDQ1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxNjE2MTY7XG4gIG9wYWNpdHk6IDAuODtcbn1cbiNnYW1lLXNjcmVlbiAuc3RhdHVzLWRpYWwgLnN0YXR1cyBzcGFuIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogOTBweDtcbiAgY29sb3I6ICNENURBRDc7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgbWFyZ2luLXRvcDogNXB4O1xuICBjb2xvcjogI0ZGRkZGRjtcbn1cbiNnYW1lLXNjcmVlbiAuc3RhdHVzLWRpYWwgLnN0YXR1cyAuYm9yZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OTQ5NDtcbiAgaGVpZ2h0OiAycHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuI2dhbWUtc2NyZWVuIC5zdGF0dXMtZGlhbCAuc3RhdHVzIC5wbGF5IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IGNhbGMoNTAlIC0gMXB4KTtcbn1cbiNnYW1lLXNjcmVlbiAuc3RhdHVzLWRpYWwgLnN0YXR1cyAucGxheSBpbWcge1xuICBoZWlnaHQ6IDMwcHg7XG4gIHdpZHRoOiAzMHB4O1xufVxuI2dhbWUtc2NyZWVuIC5zdGF0dXMtZGlhbCAuc3RhdHVzIC5ub3BsYXkgaW1nIHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbn1cbiNnYW1lLXNjcmVlbiAuc3RhdHVzLWRpYWwgLnN0YXR1cyAuaW5zdHJ1Y3Rpb24ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4jZ2FtZS1zY3JlZW4gLnN0YXR1cy1kaWFsIC5zdGF0dXMgZGl2LmFjdGl2ZSB7XG4gIG9wYWNpdHk6IDE7XG59XG4jZ2FtZS1zY3JlZW4gLnN0YXR1cy1kaWFsIC5zdGF0dXMuYWN0aXZlIHtcbiAgY29sb3I6ICNGRkZGRkY7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5nYW1lLWNvZGUge1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4uYnV0dG9uLXBhbmVsIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5idXR0b24tcGFuZWwgam4tYnV0dG9uIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuXG5pbnB1dCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxLjI1ZW07XG4gIG1hcmdpbjogMTBweCAwcHg7XG59Il19 */\"","import { Component, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BoardComponent, ModalComponent, SummaryComponent } from '../../components/components.module';\nimport { FullScreenService } from '../../services/fullscreen.service';\nimport { GameService } from '../../services/game.service';\nimport { Game } from '../../model/game.model';\nimport { Domino } from '../../model/domino.model';\nimport { Player } from '../../model/player.model';\n\n@Component({\n  templateUrl:\"./game.screen.html\",\n  styleUrls:[\"./game.screen.scss\"]\n})\nexport class GameScreen{\n  @ViewChild(BoardComponent,{static:true}) board: BoardComponent;\n  @ViewChild(\"joinModal\",{static:true}) joinModal: ModalComponent;\n  @ViewChild(\"statusModal\",{static:true}) statusModal: ModalComponent;\n  @ViewChild(SummaryComponent,{static:true}) summary: SummaryComponent;\n  public game: Game;\n  public player: Player;\n  public activeDomino: Domino;\n  public viewPoint: number;\n  public timer: number;\n\n  constructor(private _router: Router, private _gameService: GameService, private _fullScreenService: FullScreenService){\n    this.game = null;\n    this.player = new Player({});\n    this.activeDomino = null;\n    this.viewPoint = 0;\n    this.timer = 10;\n  }\n\n  ngOnInit(){\n    this.game = this._gameService.getCurrentGame();\n    this.joinModal.show();\n\n    this.game.statusChanged().subscribe(status => {\n      switch(status){\n        case \"Playing\":\n          this.activeDomino = null;\n          this.board.reset();\n          this.statusModal.hide();\n          break;\n        case \"Intermission\":\n        case \"Drawn\":\n          this.statusModal.show();\n\n          if(this.game.isMultiplayer()){\n            setTimeout(() => {\n              this._continueGame();\n            },1000);\n          }\n\n          break;\n        case \"Completed\":\n        case \"Victory\":\n        case \"Squashed\":\n          if(this.game.type == \"jail\"){\n            this.summary.show();\n          }else{\n            this.statusModal.show();\n          }\n\n          break;\n      }\n    })\n  }\n\n  selectDomino(domino: Domino){\n    if(!this.game.isWatching()){\n      this.activeDomino = domino;\n    }\n  }\n\n  playLeft(){\n    if(this.canPlayLeft()){\n      this.game.playLeft(this.activeDomino);\n      this.activeDomino = null;\n    }\n  }\n\n  playRight(){\n    if(this.canPlayRight()){\n      this.game.playRight(this.activeDomino);\n      this.activeDomino = null;\n    }\n  }\n\n  join(){\n    if(!this.player.name){\n      return;\n    }\n\n    this.player.role = (this.game.type == 'Push')?\"Player\":\"Jailman\";\n    this._gameService.join(this.player).then(viewPoint => {\n      this.viewPoint = viewPoint;\n\n      if(this.viewPoint < 0){\n        this.viewPoint = 0;\n      }\n\n      this.joinModal.hide();\n      if(this.game.status !== \"Playing\"){\n        this.statusModal.show();\n      }\n    })\n  }\n\n  mainMenu(){\n    this._router.navigate([\"/\"]);\n  }\n\n  canPlayLeft(){\n    return this.myTurn() && this.activeDomino && this.game.canPlayLeft(this.activeDomino);\n  }\n\n  canPlayRight(){\n    return this.myTurn() && this.activeDomino && this.game.canPlayRight(this.activeDomino);\n  }\n\n  myTurn(){\n    return this.game.players[this.viewPoint] == this.game.getActivePlayer();\n  }\n\n  exit(){\n    this._fullScreenService.closeFullScreen();\n    this._router.navigate([\"/\"]);\n  }\n\n  private _continueGame(){\n    if(this.timer > 0){\n      this.timer--;\n      setTimeout(() => {\n        this._continueGame();\n      },1000)\n    }else{\n      this.timer = 10;\n      this.game.start();\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}
